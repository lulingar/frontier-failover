<!DOCTYPE html>
<html lang="en">
<head>
    <title>Frontier Failover History</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="css/dc.css"/>
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/failover.css"/>
</head>

<body>

<div class="container">

    <div class="page-header">
        <h1>Frontier Failover history</h1>
        <p>This is a visual representation of direct connections from non-squid machines to central groups of servers. The charts are both viewers and controllers: they allow for interactive exploration of the failover activity on display.</p>
    </div>

    <div class="row">
        <div class="col-md-1">
            <div>
                <button onclick="Failover.reload()" class="btn btn-primary">Update</button>
            </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-lg-8">
            <strong>Time:</strong>
            <p>
                <small>
                    <time id="date-start"></time> &ndash;
                    <time id="date-end"></time>
                </small>
            </p>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div id="group-chart" class="dc-chart">
                <div class="row">
                    <div class="col-md-5"><h4>Machine Groups</h4></div>
                    <div class="col-md-1">
                        <a class="reset" href="javascript:Failover.group_chart.filterAll(); dc.redrawAll();" style="display: none;">reset</a>
                        <span class="reset" style="display: none;"></span>            
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>          
        </div>      

        <div class="col-md-6">
            <div id="squid-chart" class="dc-chart">
                <div class="row">
                    <div class="col-md-5"><h4>Host Type</h4></div>
                    <div class="col-md-1">
                        <a class="reset" href="javascript:Failover.squid_chart.filterAll(); dc.redrawAll();" style="display: none;">reset</a>
                        <span class="reset" style="display: none;"></span>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>  

    <div class="row">
        <div id="time-chart" class="dc-chart">
            <div class="col-md-4"><h4>Hits by site per hour</h4></div>
            <div class="col-md-8">
                <span class="reset" style="display: none;">Filter <a class="reset" href="javascript:Failover.time_chart_reset();" style="display: none;">(reset)</a>: <span class="filter"></span></span>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>

    <div class="row">
        <h4>Access History Detail</h4>
        <p>By clicking on one of the column headers, the sorting field is chosen and ordering is toggled. The <strong>Host</strong>, <strong>Hits</strong> and <strong>Bandwidth</strong> columns provide complementary information in their rows' tooltips.</p>
        <div class="col-md-8 col-md-offset-2">
            <table class="table table-hover table-striped table-condensed dc-data-table" id="hosts-table">
                <thead>
                <tr class="header">
                    <th class="header-inactive"><span class='header-text'>Host</span> <span class="glyphicon glyphicon-chevron-down"></span></th>
                    <th class="header-inactive"><span class='header-text'>Is Squid?</span> <span class="glyphicon glyphicon-chevron-down"></span></th>
                    <th class="header-active"><span class='header-text'>Time</span> <span class="glyphicon glyphicon-chevron-down"></span></th>
                    <th class="header-inactive"><span class='header-text'>Hits</span> <span class="glyphicon glyphicon-chevron-down"></span></th>
                    <th class="header-inactive"><span class='header-text'>Bandwidth</span> <span class="glyphicon glyphicon-chevron-down"></span></th>
                </tr>
                </thead>
            </table>
        </div>
    </div>

</div> <!-- end container -->

<script type="text/javascript" src="js/queue.v1.min.js"></script>
<script type="text/javascript" src="js/d3.js"></script>
<script type="text/javascript" src="js/crossfilter.js"></script>
<script type="text/javascript" src="js/dc.js"></script>
<script type="text/javascript" src="js/failover.lib.js"></script>
<script type="text/javascript" src="js/failover.js"></script>

</body>
</html>
